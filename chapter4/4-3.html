<html>
  <head>
    <meta charset="UTF-8" />
    <title>멘토링</title>
  </head>
  <body>
    <script>
      function solution(test) {
        let stu = [],
          answer = [];

        // 첫 번째 시험에서 멘토, 멘티가 가능한 짝 찾기
        for (let i = 0; i < test[0].length - 1; i++) {
          for (let j = i + 1; j < test[0].length; j++) {
            stu.push([test[0][i], test[0][j]]);
          }
        }

        // 유효하지 않은 짝의 인덱스를 요소로 가지는 배열
        let indexArr = [];

        // 첫번째 시험 결과로 나온 짝이 나머지 시험 결과에서도 유효한지 검사
        stu.forEach((student, index) => {
          // student[0]: 멘토
          // student[1]: 멘티
          for (let i = 1; i < arr.length; i++) {
            // 첫번째 시험에서의 맨토가 나머지 시험에서 멘티보다 등수가 낮을 경우
            if (arr[i].indexOf(student[0]) > arr[i].indexOf(student[1])) {
              indexArr.push(index);
              // stu.splice(index, 1); 여기서 바로 splice를 하면 오답 나옴
            }
          }
        });

        indexArr.reverse().forEach((index) => {
          stu.splice(index, 1);
        });
        answer = stu.length;
        return answer;
      }

      let arr = [
        [3, 4, 1, 2],
        [4, 3, 2, 1],
        [3, 1, 4, 2],
      ];
      // let arr = [
      //   [1, 2, 3, 4, 5],
      //   [5, 4, 3, 2, 1],
      // ];
      console.log(solution(arr));
    </script>
  </body>
</html>
